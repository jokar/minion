<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>translate.storage.properties</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="translate-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://translate.sourceforge.net/wiki/toolkit/index">Translate Toolkit</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="translate-module.html">Package&nbsp;translate</a> ::
        <a href="translate.storage-module.html">Package&nbsp;storage</a> ::
        Module&nbsp;properties
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="translate.storage.properties-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module properties</h1><p class="nomargin-top"><span class="codelink"><a href="translate.storage.properties-pysrc.html">source&nbsp;code</a></span></p>
<pre class="literalblock">
Classes that hold units of .properties, and similar, files that are used in
   translating Java, Mozilla, MacOS and other software.

   The L{propfile} class is a monolingual class with L{propunit} providing unit
   level access.  

   The .properties store has become a general key value pair class with
   L{Dialect} providing the ability to change the behaviour of the parsing
   and handling of the various dialects.

   Currently we support::
     * Java .properties
     * Mozilla .properties
     * Adobe Flex files
     * MacOS X .strings files
     * Skype .lang files

 
   Dialects
   ========
   The following provides references and descriptions of the various dialects supported::

   Java
   ----
   Java .properties are supported completely except for the ability to drop
   pairs that are not translated.

   The following U{.properties file
   description&lt;http://java.sun.com/j2se/1.4.2/docs/api/java/util/Properties.html#load(java.io.InputStream)&gt;}
   and U{example &lt;http://www.exampledepot.com/egs/java.util/Props.html&gt;} give
   some good references to the .properties specification.

   Properties file may also hold Java
   U{MessageFormat&lt;http://java.sun.com/j2se/1.4.2/docs/api/java/text/MessageFormat.html&gt;}
   messages.  No special handling is provided in this storage class for
   MessageFormat, but this may be implemented in future.

   All delimiter types, comments, line continuations and spaces handling in
   delimeters are supported.

   Mozilla
   -------
   Mozilla files use '=' as a delimiter, are UTF-8 encoded and thus don't need \u
   escaping.  Any \U values will be converted to correct Unicode characters.
`
   Strings
   -------
   Mac OS X strings files are implemented using 
   U{these&lt;http://developer.apple.com/mac/library/documentation/MacOSX/Conceptual/BPInternational/Articles/StringsFiles.html&gt;}
   U{two&lt;http://developer.apple.com/mac/library/documentation/Cocoa/Conceptual/LoadingResources/Strings/Strings.html&gt;}
   articles as references.

   Flex
   ----
   Adobe Flex files seem to be normal .properties files but in UTF-8 just like
   Mozilla files. This
   U{page&lt;http://livedocs.adobe.com/flex/3/html/help.html?content=l10n_3.html&gt;}
   provides the information used to implement the dialect.

   Skype
   -----
   Skype .lang files seem to be UTF-16 encoded .properties files.

   Implementation
   ==============
 
   A simple summary of what is permissible follows.

   Comments supported::
     # a comment
     ! a comment
     // a comment (only at the beginning of a line)
     /* a comment (not across multiple lines) */

   Name and Value pairs::
     # Delimiters
     key = value
     key : value
     key value

     # Space in key and around value
     \ key\ = \ value

     # Note that the b and c are escaped for epydoc rendering
     b = a string with escape sequences \t \n \r \\ \&quot; \' \ (space) \u0123
     c = a string with a continuation line \
         continuation line

     # Special cases
     # key with no value
     key
     # value no key (extractable in prop2po but not mergeable in po2prop)
     =value

     # .strings specific
     &quot;key&quot; = &quot;value&quot;;

</pre>

<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="translate.storage.properties.Dialect-class.html" class="summary-name">Dialect</a><br />
      Settings for the various behaviours in key=value files.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="translate.storage.properties.DialectJava-class.html" class="summary-name">DialectJava</a>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="translate.storage.properties.DialectFlex-class.html" class="summary-name">DialectFlex</a>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="translate.storage.properties.DialectMozilla-class.html" class="summary-name">DialectMozilla</a>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="translate.storage.properties.DialectSkype-class.html" class="summary-name">DialectSkype</a>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="translate.storage.properties.DialectStrings-class.html" class="summary-name">DialectStrings</a>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="translate.storage.properties.propunit-class.html" class="summary-name">propunit</a><br />
      an element of a properties file i.e.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="translate.storage.properties.propfile-class.html" class="summary-name">propfile</a><br />
      this class represents a .properties file, made up of propunits
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="translate.storage.properties.stringsfile-class.html" class="summary-name">stringsfile</a>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">Tuple (delimiter char, Offset Integer)</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="translate.storage.properties-module.html#_find_delimiter" class="summary-sig-name" onclick="show_private();">_find_delimiter</a>(<span class="summary-sig-arg">line</span>,
        <span class="summary-sig-arg">delimiters</span>)</span><br />
      Find the type and position of the delimiter in a property line.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.properties-pysrc.html#_find_delimiter">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="translate.storage.properties-module.html#find_delimeter" class="summary-sig-name">find_delimeter</a>(<span class="summary-sig-arg">line</span>)</span><br />
      Spelling error that is kept around for in case someone relies on it.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.properties-pysrc.html#find_delimeter">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">Boolean</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="translate.storage.properties-module.html#is_line_continuation" class="summary-sig-name">is_line_continuation</a>(<span class="summary-sig-arg">line</span>)</span><br />
      Determine whether <code class="link">line</code> has a line 
      continuation marker.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.properties-pysrc.html#is_line_continuation">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="translate.storage.properties-module.html#_key_strip" class="summary-sig-name" onclick="show_private();">_key_strip</a>(<span class="summary-sig-arg">key</span>)</span><br />
      Cleanup whitespace found around a key</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.properties-pysrc.html#_key_strip">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="register_dialect"></a><span class="summary-sig-name">register_dialect</span>(<span class="summary-sig-arg">dialect</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.properties-pysrc.html#register_dialect">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="get_dialect"></a><span class="summary-sig-name">get_dialect</span>(<span class="summary-sig-arg">dialect</span>=<span class="summary-sig-default">default_dialect</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="translate.storage.properties-pysrc.html#get_dialect">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="eol"></a><span class="summary-name">eol</span> = <code title="&quot;\n&quot;">&quot;\n&quot;</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="dialects"></a><span class="summary-name">dialects</span> = <code title="{}">{}</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="default_dialect"></a><span class="summary-name">default_dialect</span> = <code title="&quot;java&quot;">&quot;java&quot;</code>
    </td>
  </tr>
</table>
<p class="indent-wrapped-lines"><b>Imports:</b>
  <a href="translate.storage.base-module.html" title="translate.storage.base">base</a>,
  <a href="translate.misc.quote-module.html" title="translate.misc.quote">quote</a>,
  <a href="translate.misc.typecheck-module.html#_null_decorator" title="translate.misc.typecheck.accepts">accepts</a>,
  <a href="translate.misc.typecheck-module.html#_null_decorator" title="translate.misc.typecheck.returns">returns</a>,
  <a href="translate.misc.typecheck.Or-class.html" title="translate.misc.typecheck.IsOneOf">IsOneOf</a>,
  <span title="translate.lang.data">data</span>,
  <span title="re">re</span>,
  <span title="warnings">warnings</span>
</p><br />
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="_find_delimiter"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_find_delimiter</span>(<span class="sig-arg">line</span>,
        <span class="sig-arg">delimiters</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="translate.storage.properties-pysrc.html#_find_delimiter">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Find the type and position of the delimiter in a property line.</p>
  <p>Property files can be delimeted by &quot;=&quot;, &quot;:&quot; or 
  whitespace (space for now). We find the position of each delimiter, then 
  find the one that appears first.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>line</code></strong> (str) - A properties line</li>
        <li><strong class="pname"><code>delimiters</code></strong> (list) - valid delimiters</li>
    </ul></dd>
    <dt>Returns: Tuple (delimiter char, Offset Integer)</dt>
        <dd>delimiter character and offset within <code 
          class="link">line</code></dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@accepts(unicode, [unicode])</code></li>
        <li><code>@returns(IsOneOf(type(None), unicode), int)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="find_delimeter"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">find_delimeter</span>(<span class="sig-arg">line</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="translate.storage.properties-pysrc.html#find_delimeter">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Spelling error that is kept around for in case someone relies on 
  it.</p>
  <p>Deprecated.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="is_line_continuation"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">is_line_continuation</span>(<span class="sig-arg">line</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="translate.storage.properties-pysrc.html#is_line_continuation">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Determine whether <code class="link">line</code> has a line 
  continuation marker.</p>
  <p>.properties files can be terminated with a backslash (\) indicating 
  that the 'value' continues on the next line.  Continuation is only valid 
  if there are an odd number of backslashses (an even number would result 
  in a set of N/2 slashes not an escape)</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>line</code></strong> (str) - A properties line</li>
    </ul></dd>
    <dt>Returns: Boolean</dt>
        <dd>Does <code class="link">line</code> end with a line continuation</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@accepts(unicode)</code></li>
        <li><code>@returns(bool)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="_key_strip"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_key_strip</span>(<span class="sig-arg">key</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="translate.storage.properties-pysrc.html#_key_strip">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Cleanup whitespace found around a key</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>key</code></strong> (str) - A properties key</li>
    </ul></dd>
    <dt>Returns: str</dt>
        <dd>Key without any uneeded whitespace</dd>
    <dt>Decorators:</dt>
    <dd><ul class="nomargin-top">
        <li><code>@accepts(unicode)</code></li>
        <li><code>@returns(unicode)</code></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="translate-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://translate.sourceforge.net/wiki/toolkit/index">Translate Toolkit</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Tue Aug 17 15:47:21 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
